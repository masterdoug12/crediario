import{r as b,a as d,c as i,b as s,w,d as u,e as m,v as p,t as y,f as g,u as h,o as n,g as _,h as x}from"./index-C6iA26Ts.js";const V={class:"row justify-content-center py-5"},k={class:"col-md-5"},S={class:"card card-shadow border-0"},N={class:"card-body p-4"},q={key:0,class:"alert alert-danger",role:"alert"},A=["disabled"],B={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},U={__name:"LoginView",setup(E){const c=h(),v=x(),a=b({email:"admin@crediario.local",password:"senha123"}),o=d(!1),t=d(""),f=async()=>{t.value="",o.value=!0;try{const{data:r}=await _.post("/login",{email:a.email,password:a.password,device_name:"navegador"});v.setAuth(r),c.push({name:"clientes"})}catch(r){t.value=r.response?.data?.mensagem??"Não foi possível entrar. Verifique os dados."}finally{o.value=!1}};return(r,e)=>(n(),i("div",V,[s("div",k,[s("div",S,[s("div",N,[e[5]||(e[5]=s("h1",{class:"h4 text-center mb-3"},"Acessar o painel",-1)),e[6]||(e[6]=s("p",{class:"text-muted text-center mb-4"}," Utilize o usuário administrador para gerenciar os crediários. ",-1)),s("form",{class:"vstack gap-3",onSubmit:w(f,["prevent"])},[s("div",null,[e[2]||(e[2]=s("label",{class:"form-label",for:"email"},"E-mail",-1)),m(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>a.email=l),class:"form-control",type:"email",placeholder:"admin@crediario.local",required:""},null,512),[[p,a.email]])]),s("div",null,[e[3]||(e[3]=s("label",{class:"form-label",for:"password"},"Senha",-1)),m(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>a.password=l),class:"form-control",type:"password",placeholder:"••••••••",required:""},null,512),[[p,a.password]])]),t.value?(n(),i("div",q,y(t.value),1)):u("",!0),s("button",{class:"btn btn-primary w-100",type:"submit",disabled:o.value},[o.value?(n(),i("span",B)):u("",!0),e[4]||(e[4]=g(" Entrar ",-1))],8,A)],32)])])])]))}};export{U as default};
